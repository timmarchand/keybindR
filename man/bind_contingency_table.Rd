% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bind_contingency_table.R
\name{bind_contingency_table}
\alias{bind_contingency_table}
\title{Bind Contingency Table Columns}
\usage{
bind_contingency_table(tbl, target_corpus, reference_corpus)
}
\arguments{
\item{tbl}{A data frame containing token counts.}

\item{target_corpus}{The name of the column containing counts from the target corpus (as a string).}

\item{reference_corpus}{The name of the column containing counts from the reference corpus (as a string).}
}
\value{
A data frame with the original columns and additional contingency table columns:
\itemize{
\item \code{a}, \code{b}, \code{c}, \code{d}: Counts for the contingency table.
\item \code{n1}, \code{n2}: Total counts for the target and reference corpora, respectively.
\item \code{N}: Total count of tokens in both corpora.
}
}
\description{
Computes and binds the contingency table counts (\code{a}, \code{b}, \code{c}, \code{d}, \code{n1}, \code{n2}, \code{N}) to the data frame.
These counts are essential for calculating keyness metrics using other \code{bind_} functions.
}
\details{
This function calculates the necessary counts for a 2x2 contingency table for each token:
\describe{
\item{\strong{a}}{Count of the token in the target corpus.}
\item{\strong{b}}{Count of the token in the reference corpus.}
\item{\strong{c}}{Total count of tokens in the target corpus minus \strong{a} (i.e., token absent in target corpus).}
\item{\strong{d}}{Total count of tokens in the reference corpus minus \strong{b} (i.e., token absent in reference corpus).}
\item{\strong{n1}}{Total count of tokens in the target corpus.}
\item{\strong{n2}}{Total count of tokens in the reference corpus.}
\item{\strong{N}}{Total count of tokens in both corpora (\strong{n1} + \strong{n2}).}
}

The counts are converted to numeric to prevent integer overflow when dealing with large counts.
}
\examples{
library(dplyr)

# Sample data
df <- data.frame(
  token = c("word1", "word2"),
  target_count = c(10, 5),
  reference_count = c(5, 10)
)

# Compute contingency table
df_with_contingency <- bind_contingency_table(
  tbl = df,
  target_corpus = "target_count",
  reference_corpus = "reference_count"
)

# View the result
print(df_with_contingency)

}
