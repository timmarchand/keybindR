% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bind_logOdds.R
\name{bind_logOdds}
\alias{bind_logOdds}
\title{Bind Log Odds Ratio}
\usage{
bind_logOdds(tbl, target_corpus = NULL, reference_corpus = NULL)
}
\arguments{
\item{tbl}{A data frame containing token counts.}

\item{target_corpus}{The name of the column containing counts from the target corpus (as a string).}

\item{reference_corpus}{The name of the column containing counts from the reference corpus (as a string).}
}
\value{
A data frame with the original columns and an additional \code{log_odds} column containing the log odds ratio.
}
\description{
Computes the log odds ratio for each token and adds it as a new column. Log odds ratio
measures the association between a token and the target corpus compared to the reference corpus.
}
\details{
The log odds ratio is calculated as:
\deqn{log\_odds = \log\left(\frac{a \times d}{b \times c}\right)}
where:
\itemize{
\item \eqn{a} is the count of the token in the target corpus.
\item \eqn{b} is the count of the token in the reference corpus.
\item \eqn{c} is the count of tokens in the target corpus not including the token.
\item \eqn{d} is the count of tokens in the reference corpus not including the token.
}

If the necessary contingency table columns (\code{a}, \code{b}, \code{c}, \code{d}) are not present in the data frame,
and \code{target_corpus} and \code{reference_corpus} are specified, the function will compute the contingency table.
If the columns are missing and the corpus columns are not specified, the function will stop with an error.
}
\examples{
library(dplyr)

# Sample data
df <- data.frame(
  token = c("word1", "word2", "word3"),
  target_count = c(30, 50, 20),
  reference_count = c(40, 30, 10)
)

# Compute log odds
df_with_logOdds <- bind_logOdds(
  tbl = df,
  target_corpus = "target_count",
  reference_corpus = "reference_count"
)

# View the result
print(df_with_logOdds)

}
