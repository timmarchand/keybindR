% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bind_PMI.R
\name{bind_PMI}
\alias{bind_PMI}
\title{Bind Pointwise Mutual Information (PMI)}
\usage{
bind_PMI(tbl, target_corpus = NULL, reference_corpus = NULL, discount = 0)
}
\arguments{
\item{tbl}{A data frame containing token counts.}

\item{target_corpus}{The name of the column containing counts from the target corpus (as a string).}

\item{reference_corpus}{The name of the column containing counts from the reference corpus (as a string).}

\item{discount}{A small value to add to counts to handle zero counts (default is 0).}
}
\value{
A data frame with the original columns and an additional \code{PMI} column containing the PMI values.
}
\description{
Computes the Pointwise Mutual Information (PMI) for each token and adds it as a new column.
PMI measures the association between a token and the target corpus compared to the reference corpus.
}
\details{
PMI is calculated as:
\deqn{PMI = \log_2\left(\frac{a \times N}{n_1 \times y_w}\right)}
where:
\itemize{
\item \eqn{a} is the count of the token in the target corpus.
\item \eqn{N} is the total number of tokens in both corpora.
\item \eqn{n_1} is the total number of tokens in the target corpus.
\item \eqn{y_w} is the total count of the token across both corpora.
}
The \code{discount} parameter is used to handle zero counts by adding a small value to the counts.
If the necessary contingency table columns (\code{a}, \code{b}, \code{n1}, \code{N}) are not present in the data frame,
and \code{target_corpus} and \code{reference_corpus} are specified, the function will compute the contingency table.
If the columns are missing and the corpus columns are not specified, the function will stop with an error.
}
\examples{
library(dplyr)

# Sample data
df <- data.frame(
  token = c("word1", "word2", "word3"),
  target_count = c(30, 50, 20),
  reference_count = c(40, 30, 10)
)

# Compute PMI with a discount for zero counts
df_with_PMI <- bind_PMI(
  tbl = df,
  target_corpus = "target_count",
  reference_corpus = "reference_count",
  discount = 1
)

# View the result
print(df_with_PMI)

}
